var BncHeadCtrl;(function(){function wt(){if(l){ct();return}sj_evt.bind("wl:auth",ct,1)}function ct(){var n=t(),r=d(g+"/Count?cb="+_G.IG);sj_ajax(r,{callback:function(r,u){var o=t()-n,f,e;if(!r){i(nt,a);return}f=u.request.response;try{e=JSON.parse(f);bt(e,o)}catch(s){i("InvalidJson",a,!1,"json",f)}}})}function bt(u,e){v=u.c;y=u.o;var o=null;y&&st&&r&&!n.ssv&&(v>0&&(p.innerHTML=v+"",r.classList.add(tt)),st.classList.remove(f));n.hbncl=!0;sj_evt.fire("BNCHCLoaded");y&&(o=n.ihrt!=null?t()-n.ihrt:0,i("ContentStatistics",a,!1,"UNCount",u.c,"TraceId",u.tid,"IsOptedIn",u.o,"WasSilentAuth",l!=null?!l:null,"TimeSinceIdHeaderReady",o,"WasBncSuppressed",n.ssv,yt,e))}function b(){h&&h.classList.contains(f)&&(et?o=t():dt(),h.classList.remove(f),i("Click","BellIcon"),ot=t(),pt.focus(),u(_w,ft,k),s(r,e,b),ni([ht],function(){h.classList.add(f);kt();s(_w,ft,k);k();sb_st(function(){u(r,e,b)},100)}))}function kt(){for(var i,t=_d.querySelectorAll("."+it),n=0;n<t.length;n++)i=t[n],i.classList.remove(it)}function dt(){var n=d(lt(g+"/?IG="+_G.IG+"&IID="+at));sj_ajax(n,{callback:function(n,u){if(!n){i(nt,vt);return}w&&(w.innerHTML="",gt(w,u));r.classList.remove(tt);p!=null&&p.classList.add(f);et=!0;o=t()}})}function gt(n,t){var i,r,u;n!=null&&(i=sj_ce("div"),t.appendTo(i),r=[].slice.call(i.getElementsByTagName("style")),r.forEach(function(n){_d.head.appendChild(n)}),u=[].slice.call(i.childNodes),u.forEach(function(t){n.appendChild(t)}))}function ni(n,t,i){function r(u){var f=sj_et(u),o=n.some(function(n){return sj_fa(f,n)!=null}),h=u.key==="Escape";(!o||h)&&(t(u),i&&(s(_d,e,r),s(_d,rt,r),s(_d,ut,r)))}(i===void 0&&(i=!0),n!=null&&n.length!==0)&&sb_st(function(){u(_d,e,r);u(_d,rt,r);u(_d,ut,r)},0)}function k(){var u=o>0,n,r;u&&(n=["DwellTime",t()-o],r=o-ot,r>0&&n.push("ContentLoadingTime",r),i.apply(void 0,["Close","Flyout",!0].concat(n)))}var d=_w.TU?TU.acpp:function(n){return n},lt=BncUtils.asid,i=BncUtils.inst,c="BNCenter";_w[c]=_w[c]||{};var n=_w[c],l=n.isMsaAuthenticated,at=n.insertId,g="/bnc/Notifications",a="NotificationCount",vt="Notifications",nt="ApiFailure",yt="Latency",f="bnc-hide",tt="bnc-hca",it="bnc-notification__gleam_unread",e="click",rt="focusin",ut="keydown",ft="beforeunload",v,y=!1,et=!1,o=0,ot,st=_qs(".id_nc"),r=_ge("bnc-hc"),p=_qs(".bnc-hcc"),ht=".bnc-f",h=_qs(ht),w=_qs(".bnc-fc"),pt=_qs(".bnc-ft"),u=sj_be,s=sj_ue,t=sb_gt;wt();u(r,e,b)})(BncHeadCtrl||(BncHeadCtrl={}))